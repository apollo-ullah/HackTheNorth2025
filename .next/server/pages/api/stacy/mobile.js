"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/stacy/mobile";
exports.ids = ["pages/api/stacy/mobile"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstacy%2Fmobile&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstacy%2Fmobile.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstacy%2Fmobile&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstacy%2Fmobile.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_stacy_mobile_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/stacy/mobile.ts */ \"(api)/./pages/api/stacy/mobile.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_stacy_mobile_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_stacy_mobile_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/stacy/mobile\",\n        pathname: \"/api/stacy/mobile\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_stacy_mobile_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnN0YWN5JTJGbW9iaWxlJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZzdGFjeSUyRm1vYmlsZS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN3RDtBQUN4RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsdURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHVEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZhcGktdm9pY2UtYWdlbnQtbmV4dGpzLz81NTJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvc3RhY3kvbW9iaWxlLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc3RhY3kvbW9iaWxlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3RhY3kvbW9iaWxlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstacy%2Fmobile&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstacy%2Fmobile.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/stacy-tools.ts":
/*!****************************!*\
  !*** ./lib/stacy-tools.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DISTRESS_KEYWORDS: () => (/* binding */ DISTRESS_KEYWORDS),\n/* harmony export */   StacyTools: () => (/* binding */ StacyTools),\n/* harmony export */   assessRiskLevel: () => (/* binding */ assessRiskLevel)\n/* harmony export */ });\n// Stacy AI Safety Companion - Emergency Tools Integration\nclass StacyTools {\n    constructor(twilioConfig){\n        this.twilioAccountSid = twilioConfig.accountSid;\n        this.twilioAuthToken = twilioConfig.authToken;\n        this.twilioNumber = twilioConfig.phoneNumber;\n    }\n    // Professional dispatcher-style case file management\n    async updateCaseFile(caseId, updates) {\n        // This would integrate with your existing case file system\n        console.log(\"Updating case file:\", caseId, updates);\n        // For now, return a mock case file structure\n        return {\n            id: caseId,\n            timestamp: new Date().toISOString(),\n            riskLevel: updates.riskLevel || \"ELEVATED\",\n            timeline: updates.timeline || [],\n            evidence: updates.evidence || [],\n            userStatus: updates.userStatus || {\n                canSpeak: true,\n                canText: true,\n                isHidden: false\n            },\n            ...updates\n        };\n    }\n    // Send comprehensive emergency report via SMS\n    async notifyEmergencyContact(contact, caseFile, urgentMessage) {\n        try {\n            const emergencyReport = this.formatEmergencyReport(caseFile, urgentMessage);\n            // Use Twilio to send SMS\n            const response = await fetch(`https://api.twilio.com/2010-04-01/Accounts/${this.twilioAccountSid}/Messages.json`, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Basic ${Buffer.from(`${this.twilioAccountSid}:${this.twilioAuthToken}`).toString(\"base64\")}`,\n                    \"Content-Type\": \"application/x-www-form-urlencoded\"\n                },\n                body: new URLSearchParams({\n                    From: this.twilioNumber,\n                    To: contact.phone,\n                    Body: emergencyReport\n                })\n            });\n            if (response.ok) {\n                const data = await response.json();\n                return {\n                    success: true,\n                    messageId: data.sid\n                };\n            } else {\n                const error = await response.text();\n                return {\n                    success: false,\n                    error\n                };\n            }\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            };\n        }\n    }\n    // Simple method to validate emergency transfer request\n    validateEmergencyTransfer(destination, reason) {\n        if (!destination || destination !== \"+15146605707\") {\n            return {\n                valid: false,\n                message: \"Invalid emergency services destination\"\n            };\n        }\n        if (!reason || reason.trim().length === 0) {\n            return {\n                valid: false,\n                message: \"Transfer reason is required\"\n            };\n        }\n        console.log(`🚨 Emergency transfer validated: ${destination} - ${reason}`);\n        return {\n            valid: true,\n            message: \"Emergency transfer request is valid\"\n        };\n    }\n    // Find nearby safe locations\n    async getSafeLocations(userLocation, radius = 5000) {\n        // This would integrate with Google Maps API or similar\n        // For now, return mock data\n        return [\n            {\n                name: \"Police Station - Downtown\",\n                type: \"police\",\n                address: \"123 Main St\",\n                phone: \"+1234567890\",\n                distance: 0.5,\n                isOpen: true\n            },\n            {\n                name: \"General Hospital\",\n                type: \"hospital\",\n                address: \"456 Health Ave\",\n                phone: \"+1234567891\",\n                distance: 1.2,\n                isOpen: true\n            },\n            {\n                name: \"24/7 Gas Station\",\n                type: \"public_place\",\n                address: \"789 Safe Blvd\",\n                distance: 0.3,\n                isOpen: true\n            }\n        ];\n    }\n    // Direct SMS to any number with location\n    async sendContactSms(phoneNumber, message, location) {\n        try {\n            let fullMessage = message;\n            if (location) {\n                fullMessage += `\\n\\nLocation: https://maps.google.com/?q=${location.lat},${location.lng}`;\n            }\n            const response = await fetch(`https://api.twilio.com/2010-04-01/Accounts/${this.twilioAccountSid}/Messages.json`, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Basic ${Buffer.from(`${this.twilioAccountSid}:${this.twilioAuthToken}`).toString(\"base64\")}`,\n                    \"Content-Type\": \"application/x-www-form-urlencoded\"\n                },\n                body: new URLSearchParams({\n                    From: this.twilioNumber,\n                    To: phoneNumber,\n                    Body: fullMessage\n                })\n            });\n            if (response.ok) {\n                const data = await response.json();\n                return {\n                    success: true,\n                    messageId: data.sid\n                };\n            } else {\n                const error = await response.text();\n                return {\n                    success: false,\n                    error\n                };\n            }\n        } catch (error) {\n            return {\n                success: false,\n                error: error instanceof Error ? error.message : \"Unknown error\"\n            };\n        }\n    }\n    formatEmergencyReport(caseFile, urgentMessage) {\n        const location = caseFile.location ? `Location: ${caseFile.location.address || `${caseFile.location.lat}, ${caseFile.location.lng}`}` : \"Location: Unknown\";\n        const threat = caseFile.threat ? `Threat: ${caseFile.threat.description} (${caseFile.threat.immediacy})` : \"Threat: Not specified\";\n        return `🚨 EMERGENCY ALERT 🚨\n${urgentMessage}\n\nCase ID: ${caseFile.id}\nRisk Level: ${caseFile.riskLevel}\nTime: ${new Date(caseFile.timestamp).toLocaleString()}\n\n${threat}\n${location}\n\nUser Status:\n- Can speak: ${caseFile.userStatus.canSpeak ? \"Yes\" : \"No\"}\n- Can text: ${caseFile.userStatus.canText ? \"Yes\" : \"No\"}\n- Hidden: ${caseFile.userStatus.isHidden ? \"Yes\" : \"No\"}\n\nThis is an automated emergency alert from Stacy AI Safety Companion.`;\n    }\n}\n// Distress detection keywords and patterns\nconst DISTRESS_KEYWORDS = {\n    HIGH_PRIORITY: [\n        \"help\",\n        \"emergency\",\n        \"following me\",\n        \"danger\",\n        \"attacked\",\n        \"kidnapped\",\n        \"trapped\"\n    ],\n    MEDIUM_PRIORITY: [\n        \"scared\",\n        \"unsafe\",\n        \"uncomfortable\",\n        \"suspicious\",\n        \"worried\",\n        \"threatened\"\n    ],\n    LOCATION_KEYWORDS: [\n        \"lost\",\n        \"alone\",\n        \"dark area\",\n        \"isolated\",\n        \"unknown location\"\n    ]\n};\nfunction assessRiskLevel(message) {\n    const lowerMessage = message.toLowerCase();\n    const highPriorityFound = DISTRESS_KEYWORDS.HIGH_PRIORITY.some((keyword)=>lowerMessage.includes(keyword));\n    if (highPriorityFound) {\n        return \"CRITICAL\";\n    }\n    const mediumPriorityFound = DISTRESS_KEYWORDS.MEDIUM_PRIORITY.some((keyword)=>lowerMessage.includes(keyword));\n    if (mediumPriorityFound) {\n        return \"ELEVATED\";\n    }\n    return \"SAFE\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TixVQUFVLENBQUNFLE9BQU8sR0FBRyxRQUFRLEtBQUs7VUFDL0MsRUFBRUksU0FBU04sVUFBVSxDQUFDRyxRQUFRLEdBQUcsUUFBUSxLQUFLOztvRUFFWSxDQUFDO0lBQ25FO0FBQ0Y7QUFFQSwyQ0FBMkM7QUFDcEMsTUFBTXFELG9CQUFvQjtJQUMvQkMsZUFBZTtRQUFDO1FBQVE7UUFBYTtRQUFnQjtRQUFVO1FBQVk7UUFBYTtLQUFVO0lBQ2xHQyxpQkFBaUI7UUFBQztRQUFVO1FBQVU7UUFBaUI7UUFBYztRQUFXO0tBQWE7SUFDN0ZDLG1CQUFtQjtRQUFDO1FBQVE7UUFBUztRQUFhO1FBQVk7S0FBbUI7QUFDbkYsRUFBRTtBQUVLLFNBQVNDLGdCQUFnQjVCLE9BQWU7SUFDN0MsTUFBTTZCLGVBQWU3QixRQUFROEIsV0FBVztJQUV4QyxNQUFNQyxvQkFBb0JQLGtCQUFrQkMsYUFBYSxDQUFDTyxJQUFJLENBQUNDLENBQUFBLFVBQzdESixhQUFhSyxRQUFRLENBQUNEO0lBR3hCLElBQUlGLG1CQUFtQjtRQUNyQixPQUFPO0lBQ1Q7SUFFQSxNQUFNSSxzQkFBc0JYLGtCQUFrQkUsZUFBZSxDQUFDTSxJQUFJLENBQUNDLENBQUFBLFVBQ2pFSixhQUFhSyxRQUFRLENBQUNEO0lBR3hCLElBQUlFLHFCQUFxQjtRQUN2QixPQUFPO0lBQ1Q7SUFFQSxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92YXBpLXZvaWNlLWFnZW50LW5leHRqcy8uL2xpYi9zdGFjeS10b29scy50cz84OWNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFN0YWN5IEFJIFNhZmV0eSBDb21wYW5pb24gLSBFbWVyZ2VuY3kgVG9vbHMgSW50ZWdyYXRpb25cbmV4cG9ydCBpbnRlcmZhY2UgQ2FzZUZpbGUge1xuICBpZDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IHN0cmluZztcbiAgcmlza0xldmVsOiAnU0FGRScgfCAnRUxFVkFURUQnIHwgJ0NSSVRJQ0FMJztcbiAgbG9jYXRpb24/OiB7XG4gICAgbGF0OiBudW1iZXI7XG4gICAgbG5nOiBudW1iZXI7XG4gICAgYWNjdXJhY3k6IG51bWJlcjtcbiAgICBhZGRyZXNzPzogc3RyaW5nO1xuICB9O1xuICB0aW1lbGluZTogQXJyYXk8e1xuICAgIHRpbWVzdGFtcDogc3RyaW5nO1xuICAgIGV2ZW50OiBzdHJpbmc7XG4gICAgc291cmNlOiAndXNlcicgfCAnc3lzdGVtJyB8ICdhaSc7XG4gIH0+O1xuICB0aHJlYXQ/OiB7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgaW1tZWRpYWN5OiAnaW1tZWRpYXRlJyB8ICdkZXZlbG9waW5nJyB8ICdwb3RlbnRpYWwnO1xuICB9O1xuICBldmlkZW5jZTogQXJyYXk8e1xuICAgIHR5cGU6ICd0ZXh0JyB8ICdsb2NhdGlvbicgfCAnYXVkaW8nIHwgJ3Bob3RvJztcbiAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBzdHJpbmc7XG4gIH0+O1xuICB1c2VyU3RhdHVzOiB7XG4gICAgY2FuU3BlYWs6IGJvb2xlYW47XG4gICAgY2FuVGV4dDogYm9vbGVhbjtcbiAgICBpc0hpZGRlbjogYm9vbGVhbjtcbiAgICBiYXR0ZXJ5TGV2ZWw/OiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1lcmdlbmN5Q29udGFjdCB7XG4gIG5hbWU6IHN0cmluZztcbiAgcGhvbmU6IHN0cmluZztcbiAgcmVsYXRpb25zaGlwOiBzdHJpbmc7XG4gIHByaW9yaXR5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2FmZUxvY2F0aW9uIHtcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiAncG9saWNlJyB8ICdob3NwaXRhbCcgfCAnZmlyZV9zdGF0aW9uJyB8ICdwdWJsaWNfcGxhY2UnO1xuICBhZGRyZXNzOiBzdHJpbmc7XG4gIHBob25lPzogc3RyaW5nO1xuICBkaXN0YW5jZTogbnVtYmVyO1xuICBpc09wZW46IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBTdGFjeVRvb2xzIHtcbiAgcHJpdmF0ZSB0d2lsaW9BY2NvdW50U2lkOiBzdHJpbmc7XG4gIHByaXZhdGUgdHdpbGlvQXV0aFRva2VuOiBzdHJpbmc7XG4gIHByaXZhdGUgdHdpbGlvTnVtYmVyOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IodHdpbGlvQ29uZmlnOiB7IGFjY291bnRTaWQ6IHN0cmluZzsgYXV0aFRva2VuOiBzdHJpbmc7IHBob25lTnVtYmVyOiBzdHJpbmcgfSkge1xuICAgIHRoaXMudHdpbGlvQWNjb3VudFNpZCA9IHR3aWxpb0NvbmZpZy5hY2NvdW50U2lkO1xuICAgIHRoaXMudHdpbGlvQXV0aFRva2VuID0gdHdpbGlvQ29uZmlnLmF1dGhUb2tlbjtcbiAgICB0aGlzLnR3aWxpb051bWJlciA9IHR3aWxpb0NvbmZpZy5waG9uZU51bWJlcjtcbiAgfVxuXG4gIC8vIFByb2Zlc3Npb25hbCBkaXNwYXRjaGVyLXN0eWxlIGNhc2UgZmlsZSBtYW5hZ2VtZW50XG4gIGFzeW5jIHVwZGF0ZUNhc2VGaWxlKGNhc2VJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPENhc2VGaWxlPik6IFByb21pc2U8Q2FzZUZpbGU+IHtcbiAgICAvLyBUaGlzIHdvdWxkIGludGVncmF0ZSB3aXRoIHlvdXIgZXhpc3RpbmcgY2FzZSBmaWxlIHN5c3RlbVxuICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyBjYXNlIGZpbGU6JywgY2FzZUlkLCB1cGRhdGVzKTtcbiAgICBcbiAgICAvLyBGb3Igbm93LCByZXR1cm4gYSBtb2NrIGNhc2UgZmlsZSBzdHJ1Y3R1cmVcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNhc2VJZCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgcmlza0xldmVsOiB1cGRhdGVzLnJpc2tMZXZlbCB8fCAnRUxFVkFURUQnLFxuICAgICAgdGltZWxpbmU6IHVwZGF0ZXMudGltZWxpbmUgfHwgW10sXG4gICAgICBldmlkZW5jZTogdXBkYXRlcy5ldmlkZW5jZSB8fCBbXSxcbiAgICAgIHVzZXJTdGF0dXM6IHVwZGF0ZXMudXNlclN0YXR1cyB8fCB7XG4gICAgICAgIGNhblNwZWFrOiB0cnVlLFxuICAgICAgICBjYW5UZXh0OiB0cnVlLFxuICAgICAgICBpc0hpZGRlbjogZmFsc2UsXG4gICAgICB9LFxuICAgICAgLi4udXBkYXRlcyxcbiAgICB9O1xuICB9XG5cbiAgLy8gU2VuZCBjb21wcmVoZW5zaXZlIGVtZXJnZW5jeSByZXBvcnQgdmlhIFNNU1xuICBhc3luYyBub3RpZnlFbWVyZ2VuY3lDb250YWN0KFxuICAgIGNvbnRhY3Q6IEVtZXJnZW5jeUNvbnRhY3QsXG4gICAgY2FzZUZpbGU6IENhc2VGaWxlLFxuICAgIHVyZ2VudE1lc3NhZ2U6IHN0cmluZ1xuICApOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZUlkPzogc3RyaW5nOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGVtZXJnZW5jeVJlcG9ydCA9IHRoaXMuZm9ybWF0RW1lcmdlbmN5UmVwb3J0KGNhc2VGaWxlLCB1cmdlbnRNZXNzYWdlKTtcbiAgICAgIFxuICAgICAgLy8gVXNlIFR3aWxpbyB0byBzZW5kIFNNU1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkudHdpbGlvLmNvbS8yMDEwLTA0LTAxL0FjY291bnRzLyR7dGhpcy50d2lsaW9BY2NvdW50U2lkfS9NZXNzYWdlcy5qc29uYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJhc2ljICR7QnVmZmVyLmZyb20oYCR7dGhpcy50d2lsaW9BY2NvdW50U2lkfToke3RoaXMudHdpbGlvQXV0aFRva2VufWApLnRvU3RyaW5nKCdiYXNlNjQnKX1gLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgRnJvbTogdGhpcy50d2lsaW9OdW1iZXIsXG4gICAgICAgICAgVG86IGNvbnRhY3QucGhvbmUsXG4gICAgICAgICAgQm9keTogZW1lcmdlbmN5UmVwb3J0LFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZUlkOiBkYXRhLnNpZCB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH07XG4gICAgfVxuICB9XG5cbiAgLy8gU2ltcGxlIG1ldGhvZCB0byB2YWxpZGF0ZSBlbWVyZ2VuY3kgdHJhbnNmZXIgcmVxdWVzdFxuICB2YWxpZGF0ZUVtZXJnZW5jeVRyYW5zZmVyKGRlc3RpbmF0aW9uOiBzdHJpbmcsIHJlYXNvbjogc3RyaW5nKTogeyB2YWxpZDogYm9vbGVhbjsgbWVzc2FnZTogc3RyaW5nIH0ge1xuICAgIGlmICghZGVzdGluYXRpb24gfHwgZGVzdGluYXRpb24gIT09ICcrMTUxNDY2MDU3MDcnKSB7XG4gICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIG1lc3NhZ2U6ICdJbnZhbGlkIGVtZXJnZW5jeSBzZXJ2aWNlcyBkZXN0aW5hdGlvbicgfTtcbiAgICB9XG4gICAgXG4gICAgaWYgKCFyZWFzb24gfHwgcmVhc29uLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVzc2FnZTogJ1RyYW5zZmVyIHJlYXNvbiBpcyByZXF1aXJlZCcgfTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coYPCfmqggRW1lcmdlbmN5IHRyYW5zZmVyIHZhbGlkYXRlZDogJHtkZXN0aW5hdGlvbn0gLSAke3JlYXNvbn1gKTtcbiAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgbWVzc2FnZTogJ0VtZXJnZW5jeSB0cmFuc2ZlciByZXF1ZXN0IGlzIHZhbGlkJyB9O1xuICB9XG5cbiAgLy8gRmluZCBuZWFyYnkgc2FmZSBsb2NhdGlvbnNcbiAgYXN5bmMgZ2V0U2FmZUxvY2F0aW9ucyhcbiAgICB1c2VyTG9jYXRpb246IHsgbGF0OiBudW1iZXI7IGxuZzogbnVtYmVyIH0sXG4gICAgcmFkaXVzOiBudW1iZXIgPSA1MDAwXG4gICk6IFByb21pc2U8U2FmZUxvY2F0aW9uW10+IHtcbiAgICAvLyBUaGlzIHdvdWxkIGludGVncmF0ZSB3aXRoIEdvb2dsZSBNYXBzIEFQSSBvciBzaW1pbGFyXG4gICAgLy8gRm9yIG5vdywgcmV0dXJuIG1vY2sgZGF0YVxuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdQb2xpY2UgU3RhdGlvbiAtIERvd250b3duJyxcbiAgICAgICAgdHlwZTogJ3BvbGljZScsXG4gICAgICAgIGFkZHJlc3M6ICcxMjMgTWFpbiBTdCcsXG4gICAgICAgIHBob25lOiAnKzEyMzQ1Njc4OTAnLFxuICAgICAgICBkaXN0YW5jZTogMC41LFxuICAgICAgICBpc09wZW46IHRydWUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnR2VuZXJhbCBIb3NwaXRhbCcsXG4gICAgICAgIHR5cGU6ICdob3NwaXRhbCcsXG4gICAgICAgIGFkZHJlc3M6ICc0NTYgSGVhbHRoIEF2ZScsXG4gICAgICAgIHBob25lOiAnKzEyMzQ1Njc4OTEnLFxuICAgICAgICBkaXN0YW5jZTogMS4yLFxuICAgICAgICBpc09wZW46IHRydWUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnMjQvNyBHYXMgU3RhdGlvbicsXG4gICAgICAgIHR5cGU6ICdwdWJsaWNfcGxhY2UnLFxuICAgICAgICBhZGRyZXNzOiAnNzg5IFNhZmUgQmx2ZCcsXG4gICAgICAgIGRpc3RhbmNlOiAwLjMsXG4gICAgICAgIGlzT3BlbjogdHJ1ZSxcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxuXG4gIC8vIERpcmVjdCBTTVMgdG8gYW55IG51bWJlciB3aXRoIGxvY2F0aW9uXG4gIGFzeW5jIHNlbmRDb250YWN0U21zKFxuICAgIHBob25lTnVtYmVyOiBzdHJpbmcsXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIGxvY2F0aW9uPzogeyBsYXQ6IG51bWJlcjsgbG5nOiBudW1iZXIgfVxuICApOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZUlkPzogc3RyaW5nOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBmdWxsTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICBcbiAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICBmdWxsTWVzc2FnZSArPSBgXFxuXFxuTG9jYXRpb246IGh0dHBzOi8vbWFwcy5nb29nbGUuY29tLz9xPSR7bG9jYXRpb24ubGF0fSwke2xvY2F0aW9uLmxuZ31gO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS50d2lsaW8uY29tLzIwMTAtMDQtMDEvQWNjb3VudHMvJHt0aGlzLnR3aWxpb0FjY291bnRTaWR9L01lc3NhZ2VzLmpzb25gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmFzaWMgJHtCdWZmZXIuZnJvbShgJHt0aGlzLnR3aWxpb0FjY291bnRTaWR9OiR7dGhpcy50d2lsaW9BdXRoVG9rZW59YCkudG9TdHJpbmcoJ2Jhc2U2NCcpfWAsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgICBGcm9tOiB0aGlzLnR3aWxpb051bWJlcixcbiAgICAgICAgICBUbzogcGhvbmVOdW1iZXIsXG4gICAgICAgICAgQm9keTogZnVsbE1lc3NhZ2UsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlSWQ6IGRhdGEuc2lkIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicgfTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdEVtZXJnZW5jeVJlcG9ydChjYXNlRmlsZTogQ2FzZUZpbGUsIHVyZ2VudE1lc3NhZ2U6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbG9jYXRpb24gPSBjYXNlRmlsZS5sb2NhdGlvbiBcbiAgICAgID8gYExvY2F0aW9uOiAke2Nhc2VGaWxlLmxvY2F0aW9uLmFkZHJlc3MgfHwgYCR7Y2FzZUZpbGUubG9jYXRpb24ubGF0fSwgJHtjYXNlRmlsZS5sb2NhdGlvbi5sbmd9YH1gXG4gICAgICA6ICdMb2NhdGlvbjogVW5rbm93bic7XG5cbiAgICBjb25zdCB0aHJlYXQgPSBjYXNlRmlsZS50aHJlYXQgXG4gICAgICA/IGBUaHJlYXQ6ICR7Y2FzZUZpbGUudGhyZWF0LmRlc2NyaXB0aW9ufSAoJHtjYXNlRmlsZS50aHJlYXQuaW1tZWRpYWN5fSlgXG4gICAgICA6ICdUaHJlYXQ6IE5vdCBzcGVjaWZpZWQnO1xuXG4gICAgcmV0dXJuIGDwn5qoIEVNRVJHRU5DWSBBTEVSVCDwn5qoXG4ke3VyZ2VudE1lc3NhZ2V9XG5cbkNhc2UgSUQ6ICR7Y2FzZUZpbGUuaWR9XG5SaXNrIExldmVsOiAke2Nhc2VGaWxlLnJpc2tMZXZlbH1cblRpbWU6ICR7bmV3IERhdGUoY2FzZUZpbGUudGltZXN0YW1wKS50b0xvY2FsZVN0cmluZygpfVxuXG4ke3RocmVhdH1cbiR7bG9jYXRpb259XG5cblVzZXIgU3RhdHVzOlxuLSBDYW4gc3BlYWs6ICR7Y2FzZUZpbGUudXNlclN0YXR1cy5jYW5TcGVhayA/ICdZZXMnIDogJ05vJ31cbi0gQ2FuIHRleHQ6ICR7Y2FzZUZpbGUudXNlclN0YXR1cy5jYW5UZXh0ID8gJ1llcycgOiAnTm8nfVxuLSBIaWRkZW46ICR7Y2FzZUZpbGUudXNlclN0YXR1cy5pc0hpZGRlbiA/ICdZZXMnIDogJ05vJ31cblxuVGhpcyBpcyBhbiBhdXRvbWF0ZWQgZW1lcmdlbmN5IGFsZXJ0IGZyb20gU3RhY3kgQUkgU2FmZXR5IENvbXBhbmlvbi5gO1xuICB9XG59XG5cbi8vIERpc3RyZXNzIGRldGVjdGlvbiBrZXl3b3JkcyBhbmQgcGF0dGVybnNcbmV4cG9ydCBjb25zdCBESVNUUkVTU19LRVlXT1JEUyA9IHtcbiAgSElHSF9QUklPUklUWTogWydoZWxwJywgJ2VtZXJnZW5jeScsICdmb2xsb3dpbmcgbWUnLCAnZGFuZ2VyJywgJ2F0dGFja2VkJywgJ2tpZG5hcHBlZCcsICd0cmFwcGVkJ10sXG4gIE1FRElVTV9QUklPUklUWTogWydzY2FyZWQnLCAndW5zYWZlJywgJ3VuY29tZm9ydGFibGUnLCAnc3VzcGljaW91cycsICd3b3JyaWVkJywgJ3RocmVhdGVuZWQnXSxcbiAgTE9DQVRJT05fS0VZV09SRFM6IFsnbG9zdCcsICdhbG9uZScsICdkYXJrIGFyZWEnLCAnaXNvbGF0ZWQnLCAndW5rbm93biBsb2NhdGlvbiddLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2Vzc1Jpc2tMZXZlbChtZXNzYWdlOiBzdHJpbmcpOiAnU0FGRScgfCAnRUxFVkFURUQnIHwgJ0NSSVRJQ0FMJyB7XG4gIGNvbnN0IGxvd2VyTWVzc2FnZSA9IG1lc3NhZ2UudG9Mb3dlckNhc2UoKTtcbiAgXG4gIGNvbnN0IGhpZ2hQcmlvcml0eUZvdW5kID0gRElTVFJFU1NfS0VZV09SRFMuSElHSF9QUklPUklUWS5zb21lKGtleXdvcmQgPT4gXG4gICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKGtleXdvcmQpXG4gICk7XG4gIFxuICBpZiAoaGlnaFByaW9yaXR5Rm91bmQpIHtcbiAgICByZXR1cm4gJ0NSSVRJQ0FMJztcbiAgfVxuICBcbiAgY29uc3QgbWVkaXVtUHJpb3JpdHlGb3VuZCA9IERJU1RSRVNTX0tFWVdPUkRTLk1FRElVTV9QUklPUklUWS5zb21lKGtleXdvcmQgPT4gXG4gICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKGtleXdvcmQpXG4gICk7XG4gIFxuICBpZiAobWVkaXVtUHJpb3JpdHlGb3VuZCkge1xuICAgIHJldHVybiAnRUxFVkFURUQnO1xuICB9XG4gIFxuICByZXR1cm4gJ1NBRkUnO1xufVxuIl0sIm5hbWVzIjpbIlN0YWN5VG9vbHMiLCJjb25zdHJ1Y3RvciIsInR3aWxpb0NvbmZpZyIsInR3aWxpb0FjY291bnRTaWQiLCJhY2NvdW50U2lkIiwidHdpbGlvQXV0aFRva2VuIiwiYXV0aFRva2VuIiwidHdpbGlvTnVtYmVyIiwicGhvbmVOdW1iZXIiLCJ1cGRhdGVDYXNlRmlsZSIsImNhc2VJZCIsInVwZGF0ZXMiLCJjb25zb2xlIiwibG9nIiwiaWQiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyaXNrTGV2ZWwiLCJ0aW1lbGluZSIsImV2aWRlbmNlIiwidXNlclN0YXR1cyIsImNhblNwZWFrIiwiY2FuVGV4dCIsImlzSGlkZGVuIiwibm90aWZ5RW1lcmdlbmN5Q29udGFjdCIsImNvbnRhY3QiLCJjYXNlRmlsZSIsInVyZ2VudE1lc3NhZ2UiLCJlbWVyZ2VuY3lSZXBvcnQiLCJmb3JtYXRFbWVyZ2VuY3lSZXBvcnQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsImJvZHkiLCJVUkxTZWFyY2hQYXJhbXMiLCJGcm9tIiwiVG8iLCJwaG9uZSIsIkJvZHkiLCJvayIsImRhdGEiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2VJZCIsInNpZCIsImVycm9yIiwidGV4dCIsIkVycm9yIiwibWVzc2FnZSIsInZhbGlkYXRlRW1lcmdlbmN5VHJhbnNmZXIiLCJkZXN0aW5hdGlvbiIsInJlYXNvbiIsInZhbGlkIiwidHJpbSIsImxlbmd0aCIsImdldFNhZmVMb2NhdGlvbnMiLCJ1c2VyTG9jYXRpb24iLCJyYWRpdXMiLCJuYW1lIiwidHlwZSIsImFkZHJlc3MiLCJkaXN0YW5jZSIsImlzT3BlbiIsInNlbmRDb250YWN0U21zIiwibG9jYXRpb24iLCJmdWxsTWVzc2FnZSIsImxhdCIsImxuZyIsInRocmVhdCIsImRlc2NyaXB0aW9uIiwiaW1tZWRpYWN5IiwidG9Mb2NhbGVTdHJpbmciLCJESVNUUkVTU19LRVlXT1JEUyIsIkhJR0hfUFJJT1JJVFkiLCJNRURJVU1fUFJJT1JJVFkiLCJMT0NBVElPTl9LRVlXT1JEUyIsImFzc2Vzc1Jpc2tMZXZlbCIsImxvd2VyTWVzc2FnZSIsInRvTG93ZXJDYXNlIiwiaGlnaFByaW9yaXR5Rm91bmQiLCJzb21lIiwia2V5d29yZCIsImluY2x1ZGVzIiwibWVkaXVtUHJpb3JpdHlGb3VuZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/stacy-tools.ts\n");

/***/ }),

/***/ "(api)/./pages/api/stacy/mobile.ts":
/*!***********************************!*\
  !*** ./pages/api/stacy/mobile.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_stacy_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/stacy-tools */ \"(api)/./lib/stacy-tools.ts\");\n\n// Mobile-friendly API endpoints for Swift frontend\nasync function handler(req, res) {\n    const { TWILIO_ACCOUNT_SID, TWILIO_AUTH_TOKEN, TWILIO_NUMBER } = process.env;\n    if (!TWILIO_ACCOUNT_SID || !TWILIO_AUTH_TOKEN || !TWILIO_NUMBER) {\n        return res.status(500).json({\n            error: \"Twilio credentials not configured\"\n        });\n    }\n    const stacyTools = new _lib_stacy_tools__WEBPACK_IMPORTED_MODULE_0__.StacyTools({\n        accountSid: TWILIO_ACCOUNT_SID,\n        authToken: TWILIO_AUTH_TOKEN,\n        phoneNumber: TWILIO_NUMBER\n    });\n    try {\n        switch(req.method){\n            case \"POST\":\n                {\n                    const { action } = req.body;\n                    switch(action){\n                        case \"quick_alert\":\n                            {\n                                // Quick emergency alert for panic button\n                                const { location, message, emergency_contact } = req.body;\n                                const alertMessage = `🚨 PANIC BUTTON ACTIVATED 🚨\\n${message}\\nLocation: https://maps.google.com/?q=${location.lat},${location.lng}\\nTime: ${new Date().toLocaleString()}\\n\\nThis is an automated alert from Stacy AI Safety Companion.`;\n                                const result = await stacyTools.sendContactSms(emergency_contact.phone, alertMessage, location);\n                                return res.json(result);\n                            }\n                        case \"panic_alert\":\n                            {\n                                // Streamlined panic button - same as quick_alert but more intuitive name\n                                const { location, emergency_contact } = req.body.data || req.body;\n                                if (!emergency_contact?.phone) {\n                                    return res.status(400).json({\n                                        error: \"Emergency contact phone number required\"\n                                    });\n                                }\n                                const alertMessage = `🚨 EMERGENCY ALERT 🚨\\n\\nPanic button activated - immediate assistance needed\\n\\nLocation: https://maps.google.com/?q=${location.lat},${location.lng}\\nTime: ${new Date().toLocaleString()}\\n\\nThis is an automated alert from Stacy AI Safety Companion.`;\n                                const result = await stacyTools.sendContactSms(emergency_contact.phone, alertMessage, location);\n                                return res.json({\n                                    ...result,\n                                    message: \"Emergency alert sent successfully\",\n                                    timestamp: new Date().toISOString()\n                                });\n                            }\n                        default:\n                            return res.status(400).json({\n                                error: \"Invalid action\"\n                            });\n                    }\n                }\n            case \"GET\":\n                {\n                    // Health check and status\n                    return res.json({\n                        status: \"active\",\n                        service: \"Stacy AI Safety Companion\",\n                        version: \"1.0.0\",\n                        features: [\n                            \"panic_alert\",\n                            \"quick_alert\",\n                            \"voice_calls\",\n                            \"emergency_dispatch\"\n                        ],\n                        timestamp: new Date().toISOString()\n                    });\n                }\n            default:\n                return res.status(405).json({\n                    error: \"Method not allowed\"\n                });\n        }\n    } catch (error) {\n        console.error(\"Stacy mobile API error:\", error);\n        res.status(500).json({\n            error: error instanceof Error ? error.message : \"Unknown error occurred\"\n        });\n    }\n}\nfunction getRiskRecommendations(riskLevel) {\n    switch(riskLevel){\n        case \"SAFE\":\n            return [\n                \"Stay aware of your surroundings\",\n                \"Keep your phone charged\",\n                \"Let someone know your location\",\n                \"Trust your instincts\"\n            ];\n        case \"ELEVATED\":\n            return [\n                \"Move to a well-lit, populated area\",\n                \"Contact someone you trust\",\n                \"Stay alert and avoid distractions\",\n                \"Have emergency contacts ready\",\n                \"Consider changing your route\"\n            ];\n        case \"CRITICAL\":\n            return [\n                \"Call 911 immediately if safe to do so\",\n                \"Move to the nearest safe location\",\n                \"Alert emergency contacts\",\n                \"Document evidence if possible\",\n                \"Stay on the line with emergency services\"\n            ];\n        default:\n            return [\n                \"Stay safe and trust your instincts\"\n            ];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU9BLGlCQUFpQjBCLFFBQVExQixNQUFNUyxPQUFPLEdBQUc7UUFDbEQ7SUFDRjtBQUNGO0FBRUEsU0FBU2tCLHVCQUF1QkMsU0FBMkM7SUFDekUsT0FBUUE7UUFDTixLQUFLO1lBQ0gsT0FBTztnQkFDTDtnQkFDQTtnQkFDQTtnQkFDQTthQUNEO1FBRUgsS0FBSztZQUNILE9BQU87Z0JBQ0w7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDRDtRQUVILEtBQUs7WUFDSCxPQUFPO2dCQUNMO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0Q7UUFFSDtZQUNFLE9BQU87Z0JBQUM7YUFBcUM7SUFDakQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZhcGktdm9pY2UtYWdlbnQtbmV4dGpzLy4vcGFnZXMvYXBpL3N0YWN5L21vYmlsZS50cz9jNmVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCB7IFN0YWN5VG9vbHMsIGFzc2Vzc1Jpc2tMZXZlbCB9IGZyb20gJy4uLy4uLy4uL2xpYi9zdGFjeS10b29scyc7XG5cbi8vIE1vYmlsZS1mcmllbmRseSBBUEkgZW5kcG9pbnRzIGZvciBTd2lmdCBmcm9udGVuZFxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBjb25zdCB7IFRXSUxJT19BQ0NPVU5UX1NJRCwgVFdJTElPX0FVVEhfVE9LRU4sIFRXSUxJT19OVU1CRVIgfSA9IHByb2Nlc3MuZW52O1xuXG4gIGlmICghVFdJTElPX0FDQ09VTlRfU0lEIHx8ICFUV0lMSU9fQVVUSF9UT0tFTiB8fCAhVFdJTElPX05VTUJFUikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnVHdpbGlvIGNyZWRlbnRpYWxzIG5vdCBjb25maWd1cmVkJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHN0YWN5VG9vbHMgPSBuZXcgU3RhY3lUb29scyh7XG4gICAgYWNjb3VudFNpZDogVFdJTElPX0FDQ09VTlRfU0lELFxuICAgIGF1dGhUb2tlbjogVFdJTElPX0FVVEhfVE9LRU4sXG4gICAgcGhvbmVOdW1iZXI6IFRXSUxJT19OVU1CRVIsXG4gIH0pO1xuXG4gIHRyeSB7XG4gICAgc3dpdGNoIChyZXEubWV0aG9kKSB7XG4gICAgICBjYXNlICdQT1NUJzoge1xuICAgICAgICBjb25zdCB7IGFjdGlvbiB9ID0gcmVxLmJvZHk7XG5cbiAgICAgICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgICBjYXNlICdxdWlja19hbGVydCc6IHtcbiAgICAgICAgICAgIC8vIFF1aWNrIGVtZXJnZW5jeSBhbGVydCBmb3IgcGFuaWMgYnV0dG9uXG4gICAgICAgICAgICBjb25zdCB7IGxvY2F0aW9uLCBtZXNzYWdlLCBlbWVyZ2VuY3lfY29udGFjdCB9ID0gcmVxLmJvZHk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGFsZXJ0TWVzc2FnZSA9IGDwn5qoIFBBTklDIEJVVFRPTiBBQ1RJVkFURUQg8J+aqFxcbiR7bWVzc2FnZX1cXG5Mb2NhdGlvbjogaHR0cHM6Ly9tYXBzLmdvb2dsZS5jb20vP3E9JHtsb2NhdGlvbi5sYXR9LCR7bG9jYXRpb24ubG5nfVxcblRpbWU6ICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfVxcblxcblRoaXMgaXMgYW4gYXV0b21hdGVkIGFsZXJ0IGZyb20gU3RhY3kgQUkgU2FmZXR5IENvbXBhbmlvbi5gO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGFjeVRvb2xzLnNlbmRDb250YWN0U21zKFxuICAgICAgICAgICAgICBlbWVyZ2VuY3lfY29udGFjdC5waG9uZSxcbiAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlLFxuICAgICAgICAgICAgICBsb2NhdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHJlc3VsdCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAncGFuaWNfYWxlcnQnOiB7XG4gICAgICAgICAgICAvLyBTdHJlYW1saW5lZCBwYW5pYyBidXR0b24gLSBzYW1lIGFzIHF1aWNrX2FsZXJ0IGJ1dCBtb3JlIGludHVpdGl2ZSBuYW1lXG4gICAgICAgICAgICBjb25zdCB7IGxvY2F0aW9uLCBlbWVyZ2VuY3lfY29udGFjdCB9ID0gcmVxLmJvZHkuZGF0YSB8fCByZXEuYm9keTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFlbWVyZ2VuY3lfY29udGFjdD8ucGhvbmUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdFbWVyZ2VuY3kgY29udGFjdCBwaG9uZSBudW1iZXIgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBhbGVydE1lc3NhZ2UgPSBg8J+aqCBFTUVSR0VOQ1kgQUxFUlQg8J+aqFxcblxcblBhbmljIGJ1dHRvbiBhY3RpdmF0ZWQgLSBpbW1lZGlhdGUgYXNzaXN0YW5jZSBuZWVkZWRcXG5cXG5Mb2NhdGlvbjogaHR0cHM6Ly9tYXBzLmdvb2dsZS5jb20vP3E9JHtsb2NhdGlvbi5sYXR9LCR7bG9jYXRpb24ubG5nfVxcblRpbWU6ICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfVxcblxcblRoaXMgaXMgYW4gYXV0b21hdGVkIGFsZXJ0IGZyb20gU3RhY3kgQUkgU2FmZXR5IENvbXBhbmlvbi5gO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGFjeVRvb2xzLnNlbmRDb250YWN0U21zKFxuICAgICAgICAgICAgICBlbWVyZ2VuY3lfY29udGFjdC5waG9uZSxcbiAgICAgICAgICAgICAgYWxlcnRNZXNzYWdlLFxuICAgICAgICAgICAgICBsb2NhdGlvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHsgXG4gICAgICAgICAgICAgIC4uLnJlc3VsdCwgXG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdFbWVyZ2VuY3kgYWxlcnQgc2VudCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnSW52YWxpZCBhY3Rpb24nIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ0dFVCc6IHtcbiAgICAgICAgLy8gSGVhbHRoIGNoZWNrIGFuZCBzdGF0dXNcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgIHNlcnZpY2U6ICdTdGFjeSBBSSBTYWZldHkgQ29tcGFuaW9uJyxcbiAgICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICAgICAgICAgIGZlYXR1cmVzOiBbXG4gICAgICAgICAgICAncGFuaWNfYWxlcnQnLFxuICAgICAgICAgICAgJ3F1aWNrX2FsZXJ0JywgIC8vIExlZ2FjeSBzdXBwb3J0XG4gICAgICAgICAgICAndm9pY2VfY2FsbHMnLFxuICAgICAgICAgICAgJ2VtZXJnZW5jeV9kaXNwYXRjaCdcbiAgICAgICAgICBdLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdGFjeSBtb2JpbGUgQVBJIGVycm9yOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnIFxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJpc2tSZWNvbW1lbmRhdGlvbnMocmlza0xldmVsOiAnU0FGRScgfCAnRUxFVkFURUQnIHwgJ0NSSVRJQ0FMJyk6IHN0cmluZ1tdIHtcbiAgc3dpdGNoIChyaXNrTGV2ZWwpIHtcbiAgICBjYXNlICdTQUZFJzpcbiAgICAgIHJldHVybiBbXG4gICAgICAgICdTdGF5IGF3YXJlIG9mIHlvdXIgc3Vycm91bmRpbmdzJyxcbiAgICAgICAgJ0tlZXAgeW91ciBwaG9uZSBjaGFyZ2VkJyxcbiAgICAgICAgJ0xldCBzb21lb25lIGtub3cgeW91ciBsb2NhdGlvbicsXG4gICAgICAgICdUcnVzdCB5b3VyIGluc3RpbmN0cydcbiAgICAgIF07XG4gICAgXG4gICAgY2FzZSAnRUxFVkFURUQnOlxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJ01vdmUgdG8gYSB3ZWxsLWxpdCwgcG9wdWxhdGVkIGFyZWEnLFxuICAgICAgICAnQ29udGFjdCBzb21lb25lIHlvdSB0cnVzdCcsXG4gICAgICAgICdTdGF5IGFsZXJ0IGFuZCBhdm9pZCBkaXN0cmFjdGlvbnMnLFxuICAgICAgICAnSGF2ZSBlbWVyZ2VuY3kgY29udGFjdHMgcmVhZHknLFxuICAgICAgICAnQ29uc2lkZXIgY2hhbmdpbmcgeW91ciByb3V0ZSdcbiAgICAgIF07XG4gICAgXG4gICAgY2FzZSAnQ1JJVElDQUwnOlxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJ0NhbGwgOTExIGltbWVkaWF0ZWx5IGlmIHNhZmUgdG8gZG8gc28nLFxuICAgICAgICAnTW92ZSB0byB0aGUgbmVhcmVzdCBzYWZlIGxvY2F0aW9uJyxcbiAgICAgICAgJ0FsZXJ0IGVtZXJnZW5jeSBjb250YWN0cycsXG4gICAgICAgICdEb2N1bWVudCBldmlkZW5jZSBpZiBwb3NzaWJsZScsXG4gICAgICAgICdTdGF5IG9uIHRoZSBsaW5lIHdpdGggZW1lcmdlbmN5IHNlcnZpY2VzJ1xuICAgICAgXTtcbiAgICBcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFsnU3RheSBzYWZlIGFuZCB0cnVzdCB5b3VyIGluc3RpbmN0cyddO1xuICB9XG59XG4iXSwibmFtZXMiOlsiU3RhY3lUb29scyIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJUV0lMSU9fQUNDT1VOVF9TSUQiLCJUV0lMSU9fQVVUSF9UT0tFTiIsIlRXSUxJT19OVU1CRVIiLCJwcm9jZXNzIiwiZW52Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic3RhY3lUb29scyIsImFjY291bnRTaWQiLCJhdXRoVG9rZW4iLCJwaG9uZU51bWJlciIsIm1ldGhvZCIsImFjdGlvbiIsImJvZHkiLCJsb2NhdGlvbiIsIm1lc3NhZ2UiLCJlbWVyZ2VuY3lfY29udGFjdCIsImFsZXJ0TWVzc2FnZSIsImxhdCIsImxuZyIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsInJlc3VsdCIsInNlbmRDb250YWN0U21zIiwicGhvbmUiLCJkYXRhIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJzZXJ2aWNlIiwidmVyc2lvbiIsImZlYXR1cmVzIiwiY29uc29sZSIsIkVycm9yIiwiZ2V0Umlza1JlY29tbWVuZGF0aW9ucyIsInJpc2tMZXZlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/stacy/mobile.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstacy%2Fmobile&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fstacy%2Fmobile.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();