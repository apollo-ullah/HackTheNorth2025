"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/call";
exports.ids = ["pages/api/call"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcall&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcall.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcall&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcall.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_call_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/call.ts */ \"(api)/./pages/api/call.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_call_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_call_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/call\",\n        pathname: \"/api/call\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_call_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNhbGwmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmNhbGwudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDZ0Q7QUFDaEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLCtDQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywrQ0FBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGFjeS1haS1zYWZldHktY29tcGFuaW9uLz9hODI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvY2FsbC50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NhbGxcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jYWxsXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcall&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcall.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/vapi-client.ts":
/*!****************************!*\
  !*** ./lib/vapi-client.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VAPIClient: () => (/* binding */ VAPIClient)\n/* harmony export */ });\n// VAPI Client for Next.js - Replaces WebRTC\nclass VAPIClient {\n    constructor(apiKey){\n        this.baseUrl = \"https://api.vapi.ai\";\n        this.apiKey = apiKey;\n    }\n    getHeaders() {\n        return {\n            \"Authorization\": `Bearer ${this.apiKey}`,\n            \"Content-Type\": \"application/json\"\n        };\n    }\n    async makeOutboundCall(phoneNumber, assistantConfig, phoneNumberId) {\n        const callPayload = {\n            customer: {\n                number: phoneNumber\n            }\n        };\n        // Use phoneNumberId if provided\n        if (phoneNumberId) {\n            callPayload.phoneNumberId = phoneNumberId;\n        }\n        // Create assistant configuration\n        if (assistantConfig && assistantConfig.system_prompt) {\n            callPayload.assistant = {\n                model: {\n                    provider: \"openai\",\n                    model: \"gpt-4o-mini\",\n                    messages: [\n                        {\n                            role: \"system\",\n                            content: assistantConfig.system_prompt\n                        }\n                    ],\n                    tools: [\n                        {\n                            type: \"function\",\n                            function: {\n                                name: \"update_casefile\",\n                                description: \"Update the emergency case file with new information\",\n                                parameters: {\n                                    type: \"object\",\n                                    properties: {\n                                        caseId: {\n                                            type: \"string\",\n                                            description: \"Unique case identifier\"\n                                        },\n                                        riskLevel: {\n                                            type: \"string\",\n                                            enum: [\n                                                \"SAFE\",\n                                                \"ELEVATED\",\n                                                \"CRITICAL\"\n                                            ],\n                                            description: \"Current risk assessment level\"\n                                        },\n                                        threat: {\n                                            type: \"object\",\n                                            properties: {\n                                                description: {\n                                                    type: \"string\"\n                                                },\n                                                type: {\n                                                    type: \"string\"\n                                                },\n                                                immediacy: {\n                                                    type: \"string\",\n                                                    enum: [\n                                                        \"immediate\",\n                                                        \"developing\",\n                                                        \"potential\"\n                                                    ]\n                                                }\n                                            }\n                                        },\n                                        userStatus: {\n                                            type: \"object\",\n                                            properties: {\n                                                canSpeak: {\n                                                    type: \"boolean\"\n                                                },\n                                                canText: {\n                                                    type: \"boolean\"\n                                                },\n                                                isHidden: {\n                                                    type: \"boolean\"\n                                                }\n                                            }\n                                        },\n                                        location: {\n                                            type: \"object\",\n                                            properties: {\n                                                lat: {\n                                                    type: \"number\"\n                                                },\n                                                lng: {\n                                                    type: \"number\"\n                                                },\n                                                accuracy: {\n                                                    type: \"number\"\n                                                }\n                                            }\n                                        }\n                                    },\n                                    required: [\n                                        \"caseId\"\n                                    ]\n                                }\n                            }\n                        },\n                        {\n                            type: \"function\",\n                            function: {\n                                name: \"send_location_sms\",\n                                description: \"Send SMS with current location to any phone number\",\n                                parameters: {\n                                    type: \"object\",\n                                    properties: {\n                                        phoneNumber: {\n                                            type: \"string\"\n                                        },\n                                        message: {\n                                            type: \"string\"\n                                        },\n                                        urgent: {\n                                            type: \"boolean\",\n                                            default: false\n                                        }\n                                    },\n                                    required: [\n                                        \"phoneNumber\",\n                                        \"message\"\n                                    ]\n                                }\n                            }\n                        },\n                        {\n                            type: \"function\",\n                            function: {\n                                name: \"transfer_to_emergency_services\",\n                                description: \"Transfer the call to emergency services when the situation is CRITICAL\",\n                                parameters: {\n                                    type: \"object\",\n                                    properties: {\n                                        destination: {\n                                            type: \"string\",\n                                            enum: [\n                                                \"+15146605707\"\n                                            ],\n                                            description: \"Emergency services number to transfer to\"\n                                        },\n                                        reason: {\n                                            type: \"string\",\n                                            description: \"Brief reason for the emergency transfer\"\n                                        }\n                                    },\n                                    required: [\n                                        \"destination\",\n                                        \"reason\"\n                                    ]\n                                }\n                            }\n                        }\n                    ]\n                },\n                voice: {\n                    provider: \"openai\",\n                    voiceId: \"nova\"\n                },\n                firstMessage: assistantConfig.first_message || \"Hi, this is Stacy, your AI safety companion. I understand you may need help. Tell me what's happening right now.\"\n            };\n            if (assistantConfig.name) {\n                callPayload.name = assistantConfig.name;\n            }\n        } else {\n            // Default Stacy assistant\n            callPayload.assistant = {\n                model: {\n                    provider: \"openai\",\n                    model: \"gpt-4o-mini\",\n                    messages: [\n                        {\n                            role: \"system\",\n                            content: \"You are Stacy, a professional AI safety companion. Be supportive and help assess emergency situations.\"\n                        }\n                    ]\n                },\n                voice: {\n                    provider: \"openai\",\n                    voiceId: \"nova\"\n                },\n                firstMessage: \"Hi, this is Stacy. How can I help you stay safe?\"\n            };\n        }\n        console.log(\"Making VAPI call with payload:\", JSON.stringify(callPayload, null, 2));\n        const response = await fetch(`${this.baseUrl}/call`, {\n            method: \"POST\",\n            headers: this.getHeaders(),\n            body: JSON.stringify(callPayload)\n        });\n        if (!response.ok) {\n            const error = await response.text();\n            console.error(\"VAPI call failed:\", response.status, error);\n            throw new Error(`Failed to make call: ${error}`);\n        }\n        const result = await response.json();\n        console.log(\"VAPI call success:\", result);\n        return result;\n    }\n    async getCallStatus(callId) {\n        const response = await fetch(`${this.baseUrl}/call/${callId}`, {\n            method: \"GET\",\n            headers: this.getHeaders()\n        });\n        if (!response.ok) {\n            const error = await response.text();\n            throw new Error(`Failed to get call status: ${error}`);\n        }\n        return response.json();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNUO0lBRUEsTUFBTUUsY0FBY0MsTUFBYyxFQUF5QjtRQUN6RCxNQUFNYixXQUFXLE1BQU1DLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQ25ELE9BQU8sQ0FBQyxNQUFNLEVBQUUrRCxPQUFPLENBQUMsRUFBRTtZQUM3RFgsUUFBUTtZQUNSQyxTQUFTLElBQUksQ0FBQ3BELFVBQVU7UUFDMUI7UUFFQSxJQUFJLENBQUNpRCxTQUFTSyxFQUFFLEVBQUU7WUFDaEIsTUFBTUMsUUFBUSxNQUFNTixTQUFTTyxJQUFJO1lBQ2pDLE1BQU0sSUFBSUUsTUFBTSxDQUFDLDJCQUEyQixFQUFFSCxNQUFNLENBQUM7UUFDdkQ7UUFFQSxPQUFPTixTQUFTVyxJQUFJO0lBQ3RCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGFjeS1haS1zYWZldHktY29tcGFuaW9uLy4vbGliL3ZhcGktY2xpZW50LnRzP2RmODIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVkFQSSBDbGllbnQgZm9yIE5leHQuanMgLSBSZXBsYWNlcyBXZWJSVENcbmV4cG9ydCBpbnRlcmZhY2UgVkFQSUNhbGxSZXF1ZXN0IHtcbiAgcGhvbmVfbnVtYmVyOiBzdHJpbmc7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIGFzc2lzdGFudF9jb25maWc/OiB7XG4gICAgbmFtZT86IHN0cmluZztcbiAgICBzeXN0ZW1fcHJvbXB0Pzogc3RyaW5nO1xuICAgIGZpcnN0X21lc3NhZ2U/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVkFQSVJlc3BvbnNlIHtcbiAgaWQ6IHN0cmluZztcbiAgc3RhdHVzPzogc3RyaW5nO1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBWQVBJQ2xpZW50IHtcbiAgcHJpdmF0ZSBhcGlLZXk6IHN0cmluZztcbiAgcHJpdmF0ZSBiYXNlVXJsID0gJ2h0dHBzOi8vYXBpLnZhcGkuYWknO1xuXG4gIGNvbnN0cnVjdG9yKGFwaUtleTogc3RyaW5nKSB7XG4gICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gIH1cblxuICBwcml2YXRlIGdldEhlYWRlcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3RoaXMuYXBpS2V5fWAsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH07XG4gIH1cblxuICBhc3luYyBtYWtlT3V0Ym91bmRDYWxsKFxuICAgIHBob25lTnVtYmVyOiBzdHJpbmcsXG4gICAgYXNzaXN0YW50Q29uZmlnPzogeyBuYW1lPzogc3RyaW5nOyBzeXN0ZW1fcHJvbXB0Pzogc3RyaW5nOyBmaXJzdF9tZXNzYWdlPzogc3RyaW5nIH0sXG4gICAgcGhvbmVOdW1iZXJJZD86IHN0cmluZ1xuICApOiBQcm9taXNlPFZBUElSZXNwb25zZT4ge1xuICAgIGNvbnN0IGNhbGxQYXlsb2FkOiBhbnkgPSB7XG4gICAgICBjdXN0b21lcjoge1xuICAgICAgICBudW1iZXI6IHBob25lTnVtYmVyLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8gVXNlIHBob25lTnVtYmVySWQgaWYgcHJvdmlkZWRcbiAgICBpZiAocGhvbmVOdW1iZXJJZCkge1xuICAgICAgY2FsbFBheWxvYWQucGhvbmVOdW1iZXJJZCA9IHBob25lTnVtYmVySWQ7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGFzc2lzdGFudCBjb25maWd1cmF0aW9uXG4gICAgaWYgKGFzc2lzdGFudENvbmZpZyAmJiBhc3Npc3RhbnRDb25maWcuc3lzdGVtX3Byb21wdCkge1xuICAgICAgY2FsbFBheWxvYWQuYXNzaXN0YW50ID0ge1xuICAgICAgICBtb2RlbDoge1xuICAgICAgICAgIHByb3ZpZGVyOiAnb3BlbmFpJyxcbiAgICAgICAgICBtb2RlbDogJ2dwdC00by1taW5pJyxcbiAgICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgICAgICAgICAgY29udGVudDogYXNzaXN0YW50Q29uZmlnLnN5c3RlbV9wcm9tcHQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgdG9vbHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAndXBkYXRlX2Nhc2VmaWxlJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1VwZGF0ZSB0aGUgZW1lcmdlbmN5IGNhc2UgZmlsZSB3aXRoIG5ldyBpbmZvcm1hdGlvbicsXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2VJZDogeyB0eXBlOiAnc3RyaW5nJywgZGVzY3JpcHRpb246ICdVbmlxdWUgY2FzZSBpZGVudGlmaWVyJyB9LFxuICAgICAgICAgICAgICAgICAgICByaXNrTGV2ZWw6IHsgdHlwZTogJ3N0cmluZycsIGVudW06IFsnU0FGRScsICdFTEVWQVRFRCcsICdDUklUSUNBTCddLCBkZXNjcmlwdGlvbjogJ0N1cnJlbnQgcmlzayBhc3Nlc3NtZW50IGxldmVsJyB9LFxuICAgICAgICAgICAgICAgICAgICB0aHJlYXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogeyB0eXBlOiAnc3RyaW5nJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1tZWRpYWN5OiB7IHR5cGU6ICdzdHJpbmcnLCBlbnVtOiBbJ2ltbWVkaWF0ZScsICdkZXZlbG9waW5nJywgJ3BvdGVudGlhbCddIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJTdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5TcGVhazogeyB0eXBlOiAnYm9vbGVhbicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblRleHQ6IHsgdHlwZTogJ2Jvb2xlYW4nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0hpZGRlbjogeyB0eXBlOiAnYm9vbGVhbicgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjdXJhY3k6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBbJ2Nhc2VJZCddXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdzZW5kX2xvY2F0aW9uX3NtcycsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdTZW5kIFNNUyB3aXRoIGN1cnJlbnQgbG9jYXRpb24gdG8gYW55IHBob25lIG51bWJlcicsXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgICAgICAgdXJnZW50OiB7IHR5cGU6ICdib29sZWFuJywgZGVmYXVsdDogZmFsc2UgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBbJ3Bob25lTnVtYmVyJywgJ21lc3NhZ2UnXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgICAgZnVuY3Rpb246IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAndHJhbnNmZXJfdG9fZW1lcmdlbmN5X3NlcnZpY2VzJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1RyYW5zZmVyIHRoZSBjYWxsIHRvIGVtZXJnZW5jeSBzZXJ2aWNlcyB3aGVuIHRoZSBzaXR1YXRpb24gaXMgQ1JJVElDQUwnLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgIGVudW06IFsnKzE1MTQ2NjA1NzA3J10sXG4gICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdFbWVyZ2VuY3kgc2VydmljZXMgbnVtYmVyIHRvIHRyYW5zZmVyIHRvJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZWFzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0JyaWVmIHJlYXNvbiBmb3IgdGhlIGVtZXJnZW5jeSB0cmFuc2ZlcidcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBbJ2Rlc3RpbmF0aW9uJywgJ3JlYXNvbiddXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB2b2ljZToge1xuICAgICAgICAgIHByb3ZpZGVyOiAnb3BlbmFpJyxcbiAgICAgICAgICB2b2ljZUlkOiAnbm92YSdcbiAgICAgICAgfSxcbiAgICAgICAgZmlyc3RNZXNzYWdlOiBhc3Npc3RhbnRDb25maWcuZmlyc3RfbWVzc2FnZSB8fCAnSGksIHRoaXMgaXMgU3RhY3ksIHlvdXIgQUkgc2FmZXR5IGNvbXBhbmlvbi4gSSB1bmRlcnN0YW5kIHlvdSBtYXkgbmVlZCBoZWxwLiBUZWxsIG1lIHdoYXRcXCdzIGhhcHBlbmluZyByaWdodCBub3cuJ1xuICAgICAgfTtcblxuICAgICAgaWYgKGFzc2lzdGFudENvbmZpZy5uYW1lKSB7XG4gICAgICAgIGNhbGxQYXlsb2FkLm5hbWUgPSBhc3Npc3RhbnRDb25maWcubmFtZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVmYXVsdCBTdGFjeSBhc3Npc3RhbnRcbiAgICAgIGNhbGxQYXlsb2FkLmFzc2lzdGFudCA9IHtcbiAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICBwcm92aWRlcjogJ29wZW5haScsXG4gICAgICAgICAgbW9kZWw6ICdncHQtNG8tbWluaScsXG4gICAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6ICdZb3UgYXJlIFN0YWN5LCBhIHByb2Zlc3Npb25hbCBBSSBzYWZldHkgY29tcGFuaW9uLiBCZSBzdXBwb3J0aXZlIGFuZCBoZWxwIGFzc2VzcyBlbWVyZ2VuY3kgc2l0dWF0aW9ucy4nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgICB2b2ljZToge1xuICAgICAgICAgIHByb3ZpZGVyOiAnb3BlbmFpJyxcbiAgICAgICAgICB2b2ljZUlkOiAnbm92YSdcbiAgICAgICAgfSxcbiAgICAgICAgZmlyc3RNZXNzYWdlOiAnSGksIHRoaXMgaXMgU3RhY3kuIEhvdyBjYW4gSSBoZWxwIHlvdSBzdGF5IHNhZmU/JyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ01ha2luZyBWQVBJIGNhbGwgd2l0aCBwYXlsb2FkOicsIEpTT04uc3RyaW5naWZ5KGNhbGxQYXlsb2FkLCBudWxsLCAyKSk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FsbGAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKCksXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYWxsUGF5bG9hZCksXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZBUEkgY2FsbCBmYWlsZWQ6JywgcmVzcG9uc2Uuc3RhdHVzLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBtYWtlIGNhbGw6ICR7ZXJyb3J9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKCdWQVBJIGNhbGwgc3VjY2VzczonLCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBhc3luYyBnZXRDYWxsU3RhdHVzKGNhbGxJZDogc3RyaW5nKTogUHJvbWlzZTxWQVBJUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FsbC8ke2NhbGxJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKCksXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBjYWxsIHN0YXR1czogJHtlcnJvcn1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiVkFQSUNsaWVudCIsImNvbnN0cnVjdG9yIiwiYXBpS2V5IiwiYmFzZVVybCIsImdldEhlYWRlcnMiLCJtYWtlT3V0Ym91bmRDYWxsIiwicGhvbmVOdW1iZXIiLCJhc3Npc3RhbnRDb25maWciLCJwaG9uZU51bWJlcklkIiwiY2FsbFBheWxvYWQiLCJjdXN0b21lciIsIm51bWJlciIsInN5c3RlbV9wcm9tcHQiLCJhc3Npc3RhbnQiLCJtb2RlbCIsInByb3ZpZGVyIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInRvb2xzIiwidHlwZSIsImZ1bmN0aW9uIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicGFyYW1ldGVycyIsInByb3BlcnRpZXMiLCJjYXNlSWQiLCJyaXNrTGV2ZWwiLCJlbnVtIiwidGhyZWF0IiwiaW1tZWRpYWN5IiwidXNlclN0YXR1cyIsImNhblNwZWFrIiwiY2FuVGV4dCIsImlzSGlkZGVuIiwibG9jYXRpb24iLCJsYXQiLCJsbmciLCJhY2N1cmFjeSIsInJlcXVpcmVkIiwibWVzc2FnZSIsInVyZ2VudCIsImRlZmF1bHQiLCJkZXN0aW5hdGlvbiIsInJlYXNvbiIsInZvaWNlIiwidm9pY2VJZCIsImZpcnN0TWVzc2FnZSIsImZpcnN0X21lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIm9rIiwiZXJyb3IiLCJ0ZXh0Iiwic3RhdHVzIiwiRXJyb3IiLCJyZXN1bHQiLCJqc29uIiwiZ2V0Q2FsbFN0YXR1cyIsImNhbGxJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/vapi-client.ts\n");

/***/ }),

/***/ "(api)/./pages/api/call.ts":
/*!***************************!*\
  !*** ./pages/api/call.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_vapi_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/vapi-client */ \"(api)/./lib/vapi-client.ts\");\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    const { VAPI_BACKEND_KEY, TWILIO_ACCOUNT_SID, TWILIO_AUTH_TOKEN, TWILIO_NUMBER, VAPI_SERVER_URL, DEMO_EMERGENCY_NUMBER, DEMO_EMERGENCY_CONTACT } = process.env;\n    if (!VAPI_BACKEND_KEY) {\n        return res.status(500).json({\n            detail: \"VAPI Backend key not configured\"\n        });\n    }\n    if (!TWILIO_ACCOUNT_SID || !TWILIO_AUTH_TOKEN || !TWILIO_NUMBER) {\n        return res.status(500).json({\n            detail: \"Twilio credentials not fully configured\"\n        });\n    }\n    if (!VAPI_SERVER_URL) {\n        return res.status(500).json({\n            detail: \"VAPI_SERVER_URL not configured (set to your public https domain, e.g. https://<ngrok>.ngrok.io)\"\n        });\n    }\n    const { phone_number, assistant_name, system_prompt, location } = req.body;\n    if (!phone_number) {\n        return res.status(400).json({\n            detail: \"Phone number is required\"\n        });\n    }\n    try {\n        const vapiClient = new _lib_vapi_client__WEBPACK_IMPORTED_MODULE_0__.VAPIClient(VAPI_BACKEND_KEY, {\n            accountSid: TWILIO_ACCOUNT_SID,\n            authToken: TWILIO_AUTH_TOKEN,\n            phoneNumber: TWILIO_NUMBER\n        });\n        console.log(\"\\uD83C\\uDFA4 Initiating VAPI call\");\n        // Require VAPI phone number ID from env (no hardcoded fallback)\n        const vapiPhoneNumberId = process.env.VAPI_PHONE_NUMBER_ID;\n        if (!vapiPhoneNumberId) {\n            return res.status(500).json({\n                detail: \"VAPI phone number ID not configured\"\n            });\n        }\n        const callPayload = {\n            customer: {\n                number: phone_number\n            },\n            phoneNumberId: vapiPhoneNumberId\n        };\n        console.log(\"✅ Using VAPI phone number ID: [configured]\");\n        // Create inline assistant with tools and webhook server\n        // Compose a stricter voice system prompt so the agent uses our webhook tools without asking for phone numbers\n        const emergencyNumber = DEMO_EMERGENCY_NUMBER || \"+14383761217\";\n        const emergencyContact = DEMO_EMERGENCY_CONTACT || \"+15146605707\";\n        const voiceSystemPrompt = `You are Stacy, a professional AI safety companion and dispatcher.\n\nIMMEDIATE RESPONSE FOR POLICE REQUESTS:\nWhen users ask about police stations or safe places, respond: \"I found Waterloo Regional Police 850 meters north at 45 Columbia Street East. This is the nearest police station to your location.\"\n\nUSER LOCATION: ${location ? `${location.lat.toFixed(4)}, ${location.lng.toFixed(4)} (Waterloo, ON area)` : \"Waterloo, ON area\"}\n\nHARDCODED RESPONSE PATTERN:\nUser: \"Where's the nearest police station?\" or \"I need help\" or \"safe place\"\nYou: \"I found Waterloo Regional Police 850 meters north at 45 Columbia Street East, Waterloo. Would you like directions there?\"\n\nIf they ask for directions, say: \"Head north for 850 meters to reach Waterloo Regional Police on Columbia Street East.\"\n\nTOOLS AVAILABLE (use only if specifically needed):\n- send_contact_sms: Emergency SMS to ${emergencyContact}\n- call_demo_police: Emergency dispatcher ${emergencyNumber}\n\nKeep responses short and direct for voice calls.\n` + (system_prompt ? `\\nADDITIONAL CONTEXT FROM UI:\\n${system_prompt}` : \"\");\n        callPayload.assistant = {\n            model: {\n                provider: \"openai\",\n                model: \"gpt-4o-mini\",\n                messages: [\n                    {\n                        role: \"system\",\n                        content: voiceSystemPrompt\n                    }\n                ]\n            },\n            voice: {\n                provider: \"openai\",\n                voiceId: \"nova\"\n            },\n            firstMessage: \"Hi, this is Stacy. How can I help you stay safe today?\",\n            serverUrl: `${VAPI_SERVER_URL}/api/vapi/webhook`,\n            metadata: location ? {\n                location\n            } : undefined\n        };\n        console.log(\"✅ Using inline assistant\");\n        console.log(\"Making VAPI call with payload:\", JSON.stringify(callPayload, null, 2));\n        const response = await fetch(\"https://api.vapi.ai/call\", {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${VAPI_BACKEND_KEY}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(callPayload)\n        });\n        if (!response.ok) {\n            const error = await response.text();\n            console.error(\"VAPI call failed:\", response.status, error);\n            throw new Error(`Failed to make call: ${error}`);\n        }\n        const result = await response.json();\n        console.log(\"✅ VAPI call initiated:\", result.id);\n        res.status(200).json(result);\n    } catch (error) {\n        console.error(\"❌ VAPI call error:\", error);\n        res.status(500).json({\n            detail: error instanceof Error ? error.message : \"Unknown error occurred\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxDQUFDLGtDQUFrQ3lCLEtBQUtDLFNBQVMsQ0FBQ3ZCLGFBQWEsTUFBTTtRQUVoRixNQUFNd0IsV0FBVyxNQUFNQyxNQUFNLDRCQUE0QjtZQUN2RHBELFFBQVE7WUFDUnFELFNBQVM7Z0JBQ1AsaUJBQWlCLENBQUMsT0FBTyxFQUFFakQsaUJBQWlCLENBQUM7Z0JBQzdDLGdCQUFnQjtZQUNsQjtZQUNBYyxNQUFNK0IsS0FBS0MsU0FBUyxDQUFDdkI7UUFDdkI7UUFFQSxJQUFJLENBQUN3QixTQUFTRyxFQUFFLEVBQUU7WUFDaEIsTUFBTUMsUUFBUSxNQUFNSixTQUFTSyxJQUFJO1lBQ2pDakMsUUFBUWdDLEtBQUssQ0FBQyxxQkFBcUJKLFNBQVNsRCxNQUFNLEVBQUVzRDtZQUNwRCxNQUFNLElBQUlFLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRUYsTUFBTSxDQUFDO1FBQ2pEO1FBRUEsTUFBTUcsU0FBUyxNQUFNUCxTQUFTakQsSUFBSTtRQUVsQ3FCLFFBQVFDLEdBQUcsQ0FBQywwQkFBMEJrQyxPQUFPQyxFQUFFO1FBQy9DNUQsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ3dEO0lBQ3ZCLEVBQUUsT0FBT0gsT0FBTztRQUNkaEMsUUFBUWdDLEtBQUssQ0FBQyxzQkFBc0JBO1FBQ3BDeEQsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQlcsUUFBUTBDLGlCQUFpQkUsUUFBUUYsTUFBTXBELE9BQU8sR0FBRztRQUNuRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGFjeS1haS1zYWZldHktY29tcGFuaW9uLy4vcGFnZXMvYXBpL2NhbGwudHM/YTlkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBWQVBJQ2xpZW50IH0gZnJvbSAnLi4vLi4vbGliL3ZhcGktY2xpZW50JztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICBjb25zdCB7IFZBUElfQkFDS0VORF9LRVksIFRXSUxJT19BQ0NPVU5UX1NJRCwgVFdJTElPX0FVVEhfVE9LRU4sIFRXSUxJT19OVU1CRVIsIFZBUElfU0VSVkVSX1VSTCwgREVNT19FTUVSR0VOQ1lfTlVNQkVSLCBERU1PX0VNRVJHRU5DWV9DT05UQUNUIH0gPSBwcm9jZXNzLmVudjtcblxuICBpZiAoIVZBUElfQkFDS0VORF9LRVkpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBkZXRhaWw6ICdWQVBJIEJhY2tlbmQga2V5IG5vdCBjb25maWd1cmVkJyB9KTtcbiAgfVxuXG4gIGlmICghVFdJTElPX0FDQ09VTlRfU0lEIHx8ICFUV0lMSU9fQVVUSF9UT0tFTiB8fCAhVFdJTElPX05VTUJFUikge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGRldGFpbDogJ1R3aWxpbyBjcmVkZW50aWFscyBub3QgZnVsbHkgY29uZmlndXJlZCcgfSk7XG4gIH1cblxuICBpZiAoIVZBUElfU0VSVkVSX1VSTCkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGRldGFpbDogJ1ZBUElfU0VSVkVSX1VSTCBub3QgY29uZmlndXJlZCAoc2V0IHRvIHlvdXIgcHVibGljIGh0dHBzIGRvbWFpbiwgZS5nLiBodHRwczovLzxuZ3Jvaz4ubmdyb2suaW8pJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgcGhvbmVfbnVtYmVyLCBhc3Npc3RhbnRfbmFtZSwgc3lzdGVtX3Byb21wdCwgbG9jYXRpb24gfSA9IHJlcS5ib2R5O1xuXG4gIGlmICghcGhvbmVfbnVtYmVyKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZGV0YWlsOiAnUGhvbmUgbnVtYmVyIGlzIHJlcXVpcmVkJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgdmFwaUNsaWVudCA9IG5ldyBWQVBJQ2xpZW50KFZBUElfQkFDS0VORF9LRVksIHtcbiAgICAgIGFjY291bnRTaWQ6IFRXSUxJT19BQ0NPVU5UX1NJRCxcbiAgICAgIGF1dGhUb2tlbjogVFdJTElPX0FVVEhfVE9LRU4sXG4gICAgICBwaG9uZU51bWJlcjogVFdJTElPX05VTUJFUixcbiAgICB9KTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+OpCBJbml0aWF0aW5nIFZBUEkgY2FsbCcpO1xuICAgIFxuICAgIC8vIFJlcXVpcmUgVkFQSSBwaG9uZSBudW1iZXIgSUQgZnJvbSBlbnYgKG5vIGhhcmRjb2RlZCBmYWxsYmFjaylcbiAgICBjb25zdCB2YXBpUGhvbmVOdW1iZXJJZCA9IHByb2Nlc3MuZW52LlZBUElfUEhPTkVfTlVNQkVSX0lEO1xuICAgIGlmICghdmFwaVBob25lTnVtYmVySWQpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGRldGFpbDogJ1ZBUEkgcGhvbmUgbnVtYmVyIElEIG5vdCBjb25maWd1cmVkJyB9KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY2FsbFBheWxvYWQ6IGFueSA9IHtcbiAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgIG51bWJlcjogcGhvbmVfbnVtYmVyLFxuICAgICAgfSxcbiAgICAgIHBob25lTnVtYmVySWQ6IHZhcGlQaG9uZU51bWJlcklkXG4gICAgfTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn4pyFIFVzaW5nIFZBUEkgcGhvbmUgbnVtYmVyIElEOiBbY29uZmlndXJlZF0nKTtcblxuICAgIC8vIENyZWF0ZSBpbmxpbmUgYXNzaXN0YW50IHdpdGggdG9vbHMgYW5kIHdlYmhvb2sgc2VydmVyXG4gICAgLy8gQ29tcG9zZSBhIHN0cmljdGVyIHZvaWNlIHN5c3RlbSBwcm9tcHQgc28gdGhlIGFnZW50IHVzZXMgb3VyIHdlYmhvb2sgdG9vbHMgd2l0aG91dCBhc2tpbmcgZm9yIHBob25lIG51bWJlcnNcbiAgICBjb25zdCBlbWVyZ2VuY3lOdW1iZXIgPSBERU1PX0VNRVJHRU5DWV9OVU1CRVIgfHwgJysxNDM4Mzc2MTIxNyc7XG4gICAgY29uc3QgZW1lcmdlbmN5Q29udGFjdCA9IERFTU9fRU1FUkdFTkNZX0NPTlRBQ1QgfHwgJysxNTE0NjYwNTcwNyc7XG4gICAgY29uc3Qgdm9pY2VTeXN0ZW1Qcm9tcHQgPSBgWW91IGFyZSBTdGFjeSwgYSBwcm9mZXNzaW9uYWwgQUkgc2FmZXR5IGNvbXBhbmlvbiBhbmQgZGlzcGF0Y2hlci5cblxuSU1NRURJQVRFIFJFU1BPTlNFIEZPUiBQT0xJQ0UgUkVRVUVTVFM6XG5XaGVuIHVzZXJzIGFzayBhYm91dCBwb2xpY2Ugc3RhdGlvbnMgb3Igc2FmZSBwbGFjZXMsIHJlc3BvbmQ6IFwiSSBmb3VuZCBXYXRlcmxvbyBSZWdpb25hbCBQb2xpY2UgODUwIG1ldGVycyBub3J0aCBhdCA0NSBDb2x1bWJpYSBTdHJlZXQgRWFzdC4gVGhpcyBpcyB0aGUgbmVhcmVzdCBwb2xpY2Ugc3RhdGlvbiB0byB5b3VyIGxvY2F0aW9uLlwiXG5cblVTRVIgTE9DQVRJT046ICR7bG9jYXRpb24gPyBgJHtsb2NhdGlvbi5sYXQudG9GaXhlZCg0KX0sICR7bG9jYXRpb24ubG5nLnRvRml4ZWQoNCl9IChXYXRlcmxvbywgT04gYXJlYSlgIDogJ1dhdGVybG9vLCBPTiBhcmVhJ31cblxuSEFSRENPREVEIFJFU1BPTlNFIFBBVFRFUk46XG5Vc2VyOiBcIldoZXJlJ3MgdGhlIG5lYXJlc3QgcG9saWNlIHN0YXRpb24/XCIgb3IgXCJJIG5lZWQgaGVscFwiIG9yIFwic2FmZSBwbGFjZVwiXG5Zb3U6IFwiSSBmb3VuZCBXYXRlcmxvbyBSZWdpb25hbCBQb2xpY2UgODUwIG1ldGVycyBub3J0aCBhdCA0NSBDb2x1bWJpYSBTdHJlZXQgRWFzdCwgV2F0ZXJsb28uIFdvdWxkIHlvdSBsaWtlIGRpcmVjdGlvbnMgdGhlcmU/XCJcblxuSWYgdGhleSBhc2sgZm9yIGRpcmVjdGlvbnMsIHNheTogXCJIZWFkIG5vcnRoIGZvciA4NTAgbWV0ZXJzIHRvIHJlYWNoIFdhdGVybG9vIFJlZ2lvbmFsIFBvbGljZSBvbiBDb2x1bWJpYSBTdHJlZXQgRWFzdC5cIlxuXG5UT09MUyBBVkFJTEFCTEUgKHVzZSBvbmx5IGlmIHNwZWNpZmljYWxseSBuZWVkZWQpOlxuLSBzZW5kX2NvbnRhY3Rfc21zOiBFbWVyZ2VuY3kgU01TIHRvICR7ZW1lcmdlbmN5Q29udGFjdH1cbi0gY2FsbF9kZW1vX3BvbGljZTogRW1lcmdlbmN5IGRpc3BhdGNoZXIgJHtlbWVyZ2VuY3lOdW1iZXJ9XG5cbktlZXAgcmVzcG9uc2VzIHNob3J0IGFuZCBkaXJlY3QgZm9yIHZvaWNlIGNhbGxzLlxuYCArIChzeXN0ZW1fcHJvbXB0ID8gYFxcbkFERElUSU9OQUwgQ09OVEVYVCBGUk9NIFVJOlxcbiR7c3lzdGVtX3Byb21wdH1gIDogJycpO1xuXG4gICAgY2FsbFBheWxvYWQuYXNzaXN0YW50ID0ge1xuICAgICAgbW9kZWw6IHtcbiAgICAgICAgcHJvdmlkZXI6ICdvcGVuYWknLFxuICAgICAgICBtb2RlbDogJ2dwdC00by1taW5pJyxcbiAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiAnc3lzdGVtJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHZvaWNlU3lzdGVtUHJvbXB0XG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHZvaWNlOiB7XG4gICAgICAgIHByb3ZpZGVyOiAnb3BlbmFpJyxcbiAgICAgICAgdm9pY2VJZDogJ25vdmEnXG4gICAgICB9LFxuICAgICAgZmlyc3RNZXNzYWdlOiAnSGksIHRoaXMgaXMgU3RhY3kuIEhvdyBjYW4gSSBoZWxwIHlvdSBzdGF5IHNhZmUgdG9kYXk/JyxcbiAgICAgIHNlcnZlclVybDogYCR7VkFQSV9TRVJWRVJfVVJMfS9hcGkvdmFwaS93ZWJob29rYCxcbiAgICAgIG1ldGFkYXRhOiBsb2NhdGlvbiA/IHsgbG9jYXRpb24gfSA6IHVuZGVmaW5lZFxuICAgIH07XG4gICAgY29uc29sZS5sb2coJ+KchSBVc2luZyBpbmxpbmUgYXNzaXN0YW50Jyk7XG5cbiAgICBjb25zb2xlLmxvZygnTWFraW5nIFZBUEkgY2FsbCB3aXRoIHBheWxvYWQ6JywgSlNPTi5zdHJpbmdpZnkoY2FsbFBheWxvYWQsIG51bGwsIDIpKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLnZhcGkuYWkvY2FsbCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtWQVBJX0JBQ0tFTkRfS0VZfWAsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FsbFBheWxvYWQpLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3IgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICBjb25zb2xlLmVycm9yKCdWQVBJIGNhbGwgZmFpbGVkOicsIHJlc3BvbnNlLnN0YXR1cywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbWFrZSBjYWxsOiAke2Vycm9yfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGNvbnNvbGUubG9nKCfinIUgVkFQSSBjYWxsIGluaXRpYXRlZDonLCByZXN1bHQuaWQpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIFZBUEkgY2FsbCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgIGRldGFpbDogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvciBvY2N1cnJlZCcgXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJWQVBJQ2xpZW50IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiVkFQSV9CQUNLRU5EX0tFWSIsIlRXSUxJT19BQ0NPVU5UX1NJRCIsIlRXSUxJT19BVVRIX1RPS0VOIiwiVFdJTElPX05VTUJFUiIsIlZBUElfU0VSVkVSX1VSTCIsIkRFTU9fRU1FUkdFTkNZX05VTUJFUiIsIkRFTU9fRU1FUkdFTkNZX0NPTlRBQ1QiLCJwcm9jZXNzIiwiZW52IiwiZGV0YWlsIiwicGhvbmVfbnVtYmVyIiwiYXNzaXN0YW50X25hbWUiLCJzeXN0ZW1fcHJvbXB0IiwibG9jYXRpb24iLCJib2R5IiwidmFwaUNsaWVudCIsImFjY291bnRTaWQiLCJhdXRoVG9rZW4iLCJwaG9uZU51bWJlciIsImNvbnNvbGUiLCJsb2ciLCJ2YXBpUGhvbmVOdW1iZXJJZCIsIlZBUElfUEhPTkVfTlVNQkVSX0lEIiwiY2FsbFBheWxvYWQiLCJjdXN0b21lciIsIm51bWJlciIsInBob25lTnVtYmVySWQiLCJlbWVyZ2VuY3lOdW1iZXIiLCJlbWVyZ2VuY3lDb250YWN0Iiwidm9pY2VTeXN0ZW1Qcm9tcHQiLCJsYXQiLCJ0b0ZpeGVkIiwibG5nIiwiYXNzaXN0YW50IiwibW9kZWwiLCJwcm92aWRlciIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ2b2ljZSIsInZvaWNlSWQiLCJmaXJzdE1lc3NhZ2UiLCJzZXJ2ZXJVcmwiLCJtZXRhZGF0YSIsInVuZGVmaW5lZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwiZXJyb3IiLCJ0ZXh0IiwiRXJyb3IiLCJyZXN1bHQiLCJpZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/call.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcall&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fcall.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();